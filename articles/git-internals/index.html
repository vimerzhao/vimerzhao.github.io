<!DOCTYPE html>
<html class="no-js" lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Gitå†…éƒ¨åŸç†å‰–æ - èµµè£•çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Gitå†…éƒ¨åŸç†å‰–æ" />
<meta property="og:description" content="å¯¼è¯» ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç«  å†™è¿™ç¯‡æ–‡ç« çš„æœ¬æ„æœ‰äºŒ: å·¥ä½œå®‰æ’åŸå› ï¼Œå¸¸æœ‰åŒäº‹è¯¢é—®æˆ‘ä¸€äº›å…³äº Git çš„é—®é¢˜ï¼Œæ€»è§‰å¾—è‡ªå·±è§£é‡Šçš„ä¸å¤Ÿé€å½»ï¼Œå› æ­¤è§‰å¾—æœ‰å¿…è¦æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚ ç›®å‰ä¸­æ–‡çš„ Git æ•™ç¨‹å¾€å¾€æœ¬æœ«å€’ç½®ï¼Œ ä¸€å‘³ä»ç‰ˆæœ¬ç®¡ç†å·¥å…·çš„è§’åº¦å»å †" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/articles/git-internals/" /><meta property="article:section" content="articles" />
<meta property="article:published_time" content="2019-11-26T12:31:51+08:00" />
<meta property="article:modified_time" content="2023-04-01T16:49:27+08:00" />

		<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Gitå†…éƒ¨åŸç†å‰–æ"/>
<meta name="twitter:description" content="å¯¼è¯» ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç«  å†™è¿™ç¯‡æ–‡ç« çš„æœ¬æ„æœ‰äºŒ: å·¥ä½œå®‰æ’åŸå› ï¼Œå¸¸æœ‰åŒäº‹è¯¢é—®æˆ‘ä¸€äº›å…³äº Git çš„é—®é¢˜ï¼Œæ€»è§‰å¾—è‡ªå·±è§£é‡Šçš„ä¸å¤Ÿé€å½»ï¼Œå› æ­¤è§‰å¾—æœ‰å¿…è¦æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚ ç›®å‰ä¸­æ–‡çš„ Git æ•™ç¨‹å¾€å¾€æœ¬æœ«å€’ç½®ï¼Œ ä¸€å‘³ä»ç‰ˆæœ¬ç®¡ç†å·¥å…·çš„è§’åº¦å»å †"/>

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="èµµè£•çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">èµµè£•çš„åšå®¢</div>
					<div class="logo__tagline">æ’æ— æ¬²ä¹Ÿï¼Œä»¥è§‚å…¶å¦™ï¼›æ’æœ‰æ¬²ä¹Ÿï¼Œä»¥è§‚å…¶å¾¼ã€‚</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">èœå•</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">é¦–é¡µ</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/article-archive/">
				
				<span class="menu__text">æ–‡ç« </span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/talk-archive/">
				
				<span class="menu__text">æ¼”è®²</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/courses-archive/">
				
				<span class="menu__text">è¯¾ç¨‹</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/works/">
				
				<span class="menu__text">ä½œå“</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/resource/">
				
				<span class="menu__text">èµ„æº</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">å…³äº</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gitå†…éƒ¨åŸç†å‰–æ</h1>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">èµµè£•(vimerzhao)</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2019-11-26T12:31:51&#43;08:00">2019-11-26</time>
	<time class="meta__text" datetime="2023-04-01T16:49:27&#43;08:00">(æœ€åä¿®æ”¹: 2023-04-01)</time></div></div>
		</header>
		
    <span style="color:grey; font-size: 0.9em">æœ¬æ–‡çº¦ 4300 å­—ï¼Œé˜…è¯»éœ€ 9 åˆ†é’Ÿã€‚</span>
    <p/><div class="content post__content clearfix">
			<div class="sect1">
<h2 id="_å¯¼è¯»">å¯¼è¯»</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç« ">ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç« </h3>
<div class="paragraph">
<p>å†™è¿™ç¯‡æ–‡ç« çš„æœ¬æ„æœ‰äºŒ:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>å·¥ä½œå®‰æ’åŸå› ï¼Œå¸¸æœ‰åŒäº‹è¯¢é—®æˆ‘ä¸€äº›å…³äº Git çš„é—®é¢˜ï¼Œæ€»è§‰å¾—è‡ªå·±è§£é‡Šçš„ä¸å¤Ÿé€å½»ï¼Œå› æ­¤è§‰å¾—æœ‰å¿…è¦æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚</p>
</li>
<li>
<p>ç›®å‰ä¸­æ–‡çš„ Git æ•™ç¨‹å¾€å¾€æœ¬æœ«å€’ç½®ï¼Œ <strong>ä¸€å‘³ä»ç‰ˆæœ¬ç®¡ç†å·¥å…·çš„è§’åº¦å»å †ç Œå‘½ä»¤</strong> ï¼Œè€Œæ²¡æœ‰æŠŠæ¡ä½Gitçš„æœ¬è´¨ï¼Œå¯¼è‡´è¯»è€…çŸ¥é“çš„å‘½ä»¤æ„ˆå¤šï¼Œæ„ˆè§‰å¾— Git å¤æ‚ä¸å‹å¥½ã€‚</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>æœ¬æ–‡ä¸­ï¼Œç¬”è€…ä¼šé€šè¿‡å®ä¾‹æ¼”ç¤º+åŸç†è§£é‡Šçš„æ–¹å¼è¿›è¡Œå‰–æï¼Œå¹¶æå‡ºä¸€äº›å¹³æ—¶æˆ‘ä»¬ä¸æ˜“å¯Ÿè§‰çš„é—®é¢˜ã€‚</p>
</div>
</div>
<div class="sect2">
<h3 id="_gitäº§ç”Ÿçš„èƒŒæ™¯">Gitäº§ç”Ÿçš„èƒŒæ™¯</h3>
<div class="paragraph">
<p>Git è¯ç”Ÿäº2005å¹´ï¼Œå½“æ—¶ Linux å†…æ ¸å¼€å‘è€…å¯ä»¥å…è´¹ä½¿ç”¨ BitKeeper ä½œä¸ºæºç ç®¡ç†å·¥å…·ï¼Œä½†æ˜¯å…¶ä½œè€…è®¤ä¸ºéƒ¨åˆ†å¼€å‘è€…å¯¹ BitKeeper è¿›è¡Œé€†å‘å·¥ç¨‹æœ‰æ‚–åŸåˆ™ï¼Œå› è€Œæ”¶å›äº†ä½¿ç”¨æƒé™ï¼Œåœ¨è¿™ç§å±æœºæ—¶åˆ»ï¼Œ Linus å†ä¸€æ¬¡å°†ä¸ªäººè‹±é›„ä¸»ä¹‰å‘æŒ¥åˆ°äº†æè‡´ï¼Œä»¥ä¸»å¯¼è®¾è®¡å¼€å‘äº† Git ã€‚æ ¹æ®è¿™æ®µèƒŒæ™¯æˆ‘ä»¬éœ€è¦æ„è¯†åˆ°è¿™ä¹ˆå‡ ä¸ªé—®é¢˜:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Git æœ€æ—©ç”¨æ¥è§£å†³ Linux å†…æ ¸çš„å¼€å‘ï¼Œå› è€Œå…¶åŠŸèƒ½ç‰¹ç‚¹éƒ½æ˜¯é¢å‘è¿™ç§ <strong>å‚ä¸è€…åºå¤§ä¸”åˆ†æ•£çš„åä½œå¼€å‘æ¨¡å¼è®¾è®¡çš„ï¼Œä¼ä¸šçš„å°å›¢é˜Ÿå¯èƒ½ä½“ä¼šä¸åˆ° Git çš„çœŸæ­£å¼ºå¤§ä¹‹å¤„</strong> ã€‚</p>
</li>
<li>
<p>Git çš„è®¾è®¡è€…å’Œæœ€æ—©çš„ä½¿ç”¨è€…éƒ½æ˜¯ Linux å†…æ ¸å¼€å‘è€…ï¼Œæ¯”èµ· GUI ç•Œé¢ï¼Œ <strong>ä»–ä»¬æ›´å–œæ¬¢å‘½ä»¤è¡Œï¼Œæ›´è®¤åŒ Unix çš„è®¾è®¡å“²å­¦</strong> ï¼Œå› è€Œå¯¹äºä¹ æƒ¯äº† GUI ç•Œé¢çš„å¼€å‘è€…(å‰ç«¯ã€ç§»åŠ¨ç«¯ç­‰)Gitä¼šæ˜¾å¾—ååˆ†&#34;`ç¬¨æ‹™`&#34;ã€‚</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>ç†è§£è¿™äº›èƒŒæ™¯å¯¹äºæˆ‘ä»¬è®¤è¯† Git ååˆ†é‡è¦ï¼Œä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¸Œæœ›çœ‹åˆ°æ‰€æœ‰ä»£ç åˆ†æ”¯çš„æœ€åæäº¤æ—¶é—´å’Œæäº¤è€…ï¼Œè¿™ç§åŠŸèƒ½æ˜¯é«˜åº¦å®šåˆ¶çš„ï¼Œå¦‚æœ GUI å·¥å…·æ²¡æœ‰æä¾›ï¼Œé‚£æˆ‘ä»¬ä¾¿æ— èƒ½ä¸ºåŠ›ï¼Œä½†æ˜¯ Git å¯ä»¥ï¼Œé€šè¿‡ <strong>çµæ´»çš„å‚æ•°å’Œ Linux å¼ºå¤§çš„å·¥å…·é›†( <code>grep</code> ã€ <code>awk</code> )</strong> ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªåŠ¨å°è£…å‡ºè¿™ä¸ªå‘½ä»¤å¹¶ä½¿ç”¨:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gs_branch_last_commit() {
    git fetch --prune
    git for-each-ref --sort=&#39;-committerdate&#39; --format=&#34;%(refname:short) %09 %(authorname) %09 %(committerdate:relative)&#34;  \
        | grep  --line-buffered &#34;origin&#34; \
        | awk &#39;{printf &#34;%-50s%-25s%s %s %s\n&#34;,$1,$2,$3,$4,$5}&#39;
}</pre>
</div>
</div>
<div class="paragraph">
<p>æœ€åéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œ <strong>Gitæœ¬æ„ä¸æ˜¯åšä¸€ä¸ªç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œè€Œæ˜¯æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ(Git is a content-addressable filesystem)</strong> ï¼Œæ­£å¦‚Linuxåœ¨æ—©æœŸçš„é‚®ä»¶ä¸­æ‰€è¿°:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>In many ways you can just see git as a filesystem - itâ€™s content- addressable, and it has a notion of versioning, but I really really designed it coming at the problem from the viewpoint of a <em>filesystem</em> person (hey, kernels is what I do), and I actually have absolutely <em>zero</em> interest in creating a traditional SCM system.</p>
</div>
</blockquote>
<div class="attribution">
â€” Linus Torvalds
</div>
</div>
<div class="paragraph">
<p>åœ¨è¯»å®Œæœ¬æ–‡åï¼Œç›¸ä¿¡è¯»è€…èƒ½æ›´æ·±åˆ»åœ°ç†è§£è¿™æ®µè¯ã€‚</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>Note</strong></p>
</div>
<div class="paragraph">
<p>SCM(å³ <a href="https://en.wikipedia.org/wiki/Software_configuration_management">Software configuration management</a>)æ˜¯ä¸€ç§æ›´å¹¿ä¹‰çš„ç‰ˆæœ¬ç®¡ç†ï¼Œ Linus æ›´æ„¿æ„ç›´æ¥å°†å…¶è§£é‡Šä¸º Source Code Managementã€‚</p>
</div>
</blockquote>
</div>
</div>
<div class="sect2">
<h3 id="_scmçš„ä¸‰ä¸ªé—®é¢˜">SCMçš„ä¸‰ä¸ªé—®é¢˜</h3>
<div class="paragraph">
<p><em>The Architecture of Open Source Applications (Volume 2)</em> ä¸­æåˆ°ä»»ä½•ä¸€ä¸ªSCMè½¯ä»¶éƒ½éœ€è¦è§£å†³ä¸‰ä¸ªé—®é¢˜ï¼Œ <strong>ä»¥ä¿è¯è½¯ä»¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä»»ä¸€æ—¶é—´çš„å†…å®¹éƒ½å¯ä»¥è¢«è¿½æº¯ï¼Œå¹¶ä½¿å¾—ä¸åŒå¼€å‘è€…å¯ä»¥åä½œå¼€å‘</strong> ã€‚è¿™ä¸‰ä¸ªé—®é¢˜æ˜¯:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>å­˜å‚¨å†…å®¹(Storing content)</p>
</li>
<li>
<p>è¿½è¸ªå†…å®¹çš„å˜æ›´(Tracking changes to the content (history including merge metadata))</p>
</li>
<li>
<p>å‘å…¶ä»–å¼€å‘è€…åˆ†å‘å†…å®¹åŠå…¶å˜æ›´(Distributing the content and history with collaborators)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Gitä¹Ÿä¸ä¾‹å¤–ï¼Œæ¥ä¸‹æ¥æœ¬æ–‡å°†å›´ç»•è¿™ä¸‰ä¸ªé—®é¢˜ï¼Œå¹¶ç»“åˆGitè‡ªèº«çš„ä¸€äº›ç‰¹ç‚¹ï¼Œè¿›è¡Œå‰–æã€‚</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_æœ¯è¯­">æœ¯è¯­</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ç”±äºè¯»è€…å¯èƒ½å¯¹äºGitçš„å†…éƒ¨åŸç†ä¸ç”šç†Ÿæ‚‰ï¼Œæ‰€ä»¥è¿™é‡ŒæŠŠä¸“ä¸šè¯æ±‡å…ˆåˆ—å‡ºæ¥:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.git Directory &amp; Working Directory</code>: .git ç›®å½•æ˜¯ Git å­˜å‚¨ä¿¡æ¯å’Œæ“ä½œä¿¡æ¯çš„ç›®å½•ï¼Œ Working Directory æ˜¯æˆ‘ä»¬å®é™…æ“ä½œçš„ç›®å½•ã€‚</p>
</li>
<li>
<p><code>Git Object</code>: Git å¯¹è±¡ï¼Œæˆ‘ä»¬çš„æ–‡ä»¶ã€ç›®å½•å’Œæäº¤è®°å½•éƒ½ä¼šä»¥ Git Object çš„æ ¼å¼å­˜å‚¨åœ¨ .git ç›®å½•ä¸­ã€‚</p>
</li>
<li>
<p><code>Git Reference</code>: Git å¼•ç”¨ï¼Œæˆ‘ä»¬çš„åˆ†æ”¯ã€è¿œç¨‹åˆ†æ”¯ã€tagçš„ç´¢å¼•éƒ½æ˜¯å·² Git Reference çš„å½¢å¼å­˜å‚¨ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªåŒ…å« SHA1 å€¼çš„40ä¸ªå­—ç¬¦çš„16è¿›åˆ¶å­—ç¬¦ä¸²ã€‚</p>
</li>
<li>
<p><code>SHA1</code>: æ‰€æœ‰çš„æ–‡ä»¶çš„å†…å®¹éƒ½ä¼šé€šè¿‡è¯¥ç®—æ³•è®¡ç®—å‡ºå…¶(å…¶å®è¿˜æœ‰ä¸€ä¸ªheader) SHA1å€¼ä½œä¸ºGit å¯¹è±¡çš„æ–‡ä»¶å(å…¶å®å°±æ˜¯æ•°æ®åº“ä¸­çš„Key)ã€‚</p>
</li>
<li>
<p><code>plumbing &amp; porcelain</code>: Gitçš„å‘½ä»¤åˆ†ç±»æ–¹å¼ï¼Œå‰è€…æ˜¯æ™¦æ¶©çš„åº•å±‚å‘½ä»¤ï¼Œç›´æ¥æ“ä½œæ–‡ä»¶ï¼Œåè€…æ˜¯é¢å‘ç‰ˆæœ¬ç®¡ç†çš„é«˜çº§å‘½ä»¤ã€‚</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_å¯¹è±¡">Git å¯¹è±¡</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_gitç›®å½•">.gitç›®å½•</h3>
<div class="paragraph">
<p>å½“æˆ‘ä»¬åœ¨æŸä¸ªç›®å½•ä¸‹æ‰§è¡Œ <code>git init</code> å‘½ä»¤æ—¶ï¼Œè¯¥ç›®å½•å°±ä¼šæˆä¸º Git çš„ä¸€ä¸ªå·¥ä½œç›®å½•(Working Directory)ï¼Œè€Œè¯¥ç›®å½•ä¸‹é¢çš„ .git ç›®å½•åˆ™æ˜¯ <strong>å·¥ä½œç›®å½•çš„å…¨éƒ¨å†å²åœ¨ Git å†…çš„è¡¨ç¤º</strong> ã€‚ + åœ¨å¼€å§‹Gitå†…éƒ¨åŸç†çš„æ¢ç´¢ä¹‹æ—…å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦è®¤è¯†ä¸€ä¸‹ .git ç›®å½•ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œæˆ–è€… GUI ç•Œé¢çš„å„ç§æ“ä½œï¼Œæœ¬è´¨éƒ½æ˜¯æ“ä½œ .git ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚ç°åœ¨æˆ‘ä»¬é€šè¿‡ <code>git init</code> åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œå¹¶é€šè¿‡ <code>tree</code> å‘½ä»¤æŸ¥çœ‹ .git ç›®å½•çš„ç»“æ„:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ tree .git
.git
â”œâ”€â”€ HEAD
â”œâ”€â”€ branches
â”œâ”€â”€ config
â”œâ”€â”€ description
â”œâ”€â”€ hooks
â”‚   â”œâ”€â”€ applypatch-msg.sample
â”‚   â”œâ”€â”€ commit-msg.sample
â”‚   â”œâ”€â”€ fsmonitor-watchman.sample
â”‚   â”œâ”€â”€ post-update.sample
â”‚   â”œâ”€â”€ pre-applypatch.sample
â”‚   â”œâ”€â”€ pre-commit.sample
â”‚   â”œâ”€â”€ pre-push.sample
â”‚   â”œâ”€â”€ pre-rebase.sample
â”‚   â”œâ”€â”€ pre-receive.sample
â”‚   â”œâ”€â”€ prepare-commit-msg.sample
â”‚   â””â”€â”€ update.sample
â”œâ”€â”€ info
â”‚   â””â”€â”€ exclude
â”œâ”€â”€ objects
â”‚   â”œâ”€â”€ info
â”‚   â””â”€â”€ pack
â””â”€â”€ refs
    â”œâ”€â”€ heads
    â””â”€â”€ tags

9 directories, 15 files</code></pre>
</div>
</div>
<div class="paragraph">
<p>å„ä¸ªç›®å½•/æ–‡ä»¶çš„ä½œç”¨å¦‚ä¸‹</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>HEAD</code> : å½“å‰åˆ†æ”¯</p>
</li>
<li>
<p><code>config</code> : ä»“åº“çº§çš„é…ç½®ä¿¡æ¯</p>
</li>
<li>
<p><code>description</code> : åªä¼šè¢«Gitçš„ç½‘ç»œç¨‹åº(å¦‚Github)ä½¿ç”¨ï¼Œæ— éœ€å…³æ³¨</p>
</li>
<li>
<p><code>index</code> : æš‚å­˜åŒº(staging area)</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>hooks</code> : Git Hook çš„ç¤ºä¾‹è„šæœ¬</p>
</li>
<li>
<p><code>info/exclude</code> : ä¿å­˜äº†ä¸€äº›ä½ ä¸æƒ³åœ¨ .gitignore ä¸­é…ç½®çš„å¿½ç•¥æ–‡ä»¶çš„ä¿¡æ¯</p>
</li>
<li>
<p><code>objects</code> : æ‰€æœ‰å·¥ä½œç›®å½•çš„å†…å®¹(content)ä¼šä»¥ Git å¯¹è±¡(objects)çš„å½¢å¼å­˜æ”¾åœ¨è¿™ä¸ªç›®å½•</p>
</li>
<li>
<p><code>refs</code> : å­˜æ”¾åˆ†æ”¯ã€tagçš„ä¿¡æ¯</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>å…¶ä¸­ <code>objects</code> <code>refs</code> å°†æ˜¯æœ¬æ–‡å‰–æçš„é‡ç‚¹ï¼Œä¹Ÿæ˜¯Gitçš„æ ¸å¿ƒã€‚</p>
</div>
</div>
<div class="sect2">
<h3 id="_plumbing_å’Œ_porcelain">plumbing å’Œ porcelain</h3>
<div class="paragraph">
<p>åœ¨Gitä¸­ï¼Œå­˜åœ¨ä¸¤ç§å‘½ä»¤: plumbing å’Œ porcelain ï¼Œå‰è€…å°†Gitä½œä¸ºä¸€ä¸ªæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½ååˆ†çš„åº•å±‚ã€æŠ½è±¡ï¼Œä¾‹å¦‚ä¸Šæ–‡ä½¿ç”¨çš„ <code>git for-each-ref</code> å°±æ˜¯ä¸€ä¸ª <code>plumbing</code> å‘½ä»¤ï¼›å¯¹åº”çš„,åè€…å°†Gitä½œä¸ºä¸€ä¸ªç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½æ›´åŠ æŠ½è±¡å’Œç›´ç™½ï¼Œä¾‹å¦‚æˆ‘ä»¬å¸¸è§çš„ <code>git add</code> / <code>git commit</code> / <code>git push</code> ä¸‰å…„å¼Ÿã€‚ æœ¬æ–‡å°†åŸºäºå¸¸ç”¨çš„ porcelain å‘½ä»¤è¿›è¡Œå‰–æï¼Œä»¥æ­ç¤ºå…¶èƒŒåçš„çœŸå®æ“ä½œï¼Œå¹¶åœ¨æŸäº›æ—¶åˆ»ä½¿ç”¨ä¸€äº› plumbing å‘½ä»¤ï¼Œä»¥å¸®åŠ©è¯»è€…ä»æ–‡ä»¶çš„è§’åº¦è¿›è¡Œæ›´æ·±åˆ»çš„ç†è§£ã€‚</p>
</div>
</div>
<div class="sect2">
<h3 id="_gitå¯¹è±¡ç±»å‹">Gitå¯¹è±¡ç±»å‹</h3>
<div class="paragraph">
<p>å‰é¢è¯´è¿‡ï¼ŒGitçš„æœ¬è´¨æ˜¯ä¸€ä¸ª <code>content-addressable filesystem</code> (åŸºäºå†…å®¹å¯»å€çš„æ–‡ä»¶ç³»ç»Ÿ) + æ—¢ç„¶æ˜¯ä¸€ä¸ªæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œé‚£ä¹ˆæ–‡ä»¶æœ‰å“ªäº›ç±»å‹å‘¢ï¼Ÿä¸€èˆ¬æ¥è¯´æœ‰ <strong>ç›®å½•å’Œæ–‡ä»¶</strong> ã€‚å¯¹äº Git æ¥è¯´ï¼Œè¿˜éœ€è¦è®°å½•å˜æ›´ï¼Œè¿™ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ç±»å‹ã€‚æœ€åï¼ŒGitè¿˜æä¾›äº†ä¸€ç§tagç±»å‹çš„æ–‡ä»¶ï¼Œå®ƒä¸ºæŸæ¬¡æäº¤æä¾›äº†ä¸€ä¸ªæ°¸ä¹…ç´¢å¼•ï¼Œå› ä¸ºå¯¹äºä¸€ä¸ªSCMç³»ç»Ÿæ¥è¯´ï¼Œè®°å½•æŸæ¬¡é‡å¤§æ”¹åŠ¨(å¦‚ç‰ˆæœ¬å‘å¸ƒ)æ˜¯ååˆ†æœ‰å¿…è¦çš„ã€‚ + åœ¨Gitä¸­ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾æ¥è¡¨ç¤ºGitå¯¹è±¡çš„ç»„ç»‡æ–¹å¼:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/vimerzhao/images/raw/master/2019-11/git-internal-004.png" alt="git internal 004"/>
</div>
</div>
<div class="paragraph">
<p>æ‰€ä»¥Gitå¯¹è±¡ä¸€å…±æœ‰å››ç§ç±»å‹:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>blob</code> : è¡¨ç¤ºä¸€ä¸ªå†…å®¹(æ³¨æ„ä¸æ˜¯æ–‡ä»¶)</p>
</li>
<li>
<p><code>tree</code> : è¡¨ç¤ºä¸€ä¸ªç›®å½•</p>
</li>
<li>
<p><code>commit</code> : è¡¨ç¤ºä¸€æ¬¡æäº¤</p>
</li>
<li>
<p><code>tag</code> : æ¯”è¾ƒç‰¹æ®Šï¼Œå³æ˜¯å¼•ç”¨ä¹Ÿæœ‰å¯¹è±¡(å¯ä»¥äººä¸ºæ˜¯åˆ†æ”¯åœ¨æŸä¸€æ—¶åˆ»çš„å¿«ç…§)</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_gitå¯¹è±¡æ“ä½œ">Gitå¯¹è±¡æ“ä½œ</h3>
<div class="paragraph">
<p>é‚£ä¹ˆè¿™å››ç§æ–‡ä»¶ç±»å‹å…·ä½“é•¿ä»€ä¹ˆæ ·å‘¢ï¼Ÿè¿™å°±ä¸å¾—ä¸æGitçš„å¯¹è±¡æ¨¡å‹äº†ï¼Œåœ¨Gitä¸­ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½ä¼šé€šè¿‡ <code>zlib</code> å‹ç¼©æˆä¸€ä¸ªæ–‡ä»¶åä¸ºå…¶ SHA1 å€¼çš„æ–‡ä»¶ï¼Œä¸ºäº†æ›´å…·ä½“è§£é‡Šè¿™å¥è¯ï¼Œæˆ‘ä»¬å¼€å§‹å®éªŒã€‚ é¦–å…ˆä¸ºäº†æ–¹ä¾¿åé¢çš„è¡¨ç¤ºï¼Œæˆ‘è®¾è®¡äº†ä¸€ä¸ªå‘½ä»¤ï¼Œå€ŸåŠ©äº†ä¸¤ä¸ª plumbing å‘½ä»¤: <code>rev-list</code> <code>cat-file</code> ï¼Œç”¨æ¥æ‰“å°æ‰€æœ‰Gitå¯¹è±¡çš„å†…å®¹:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>print_all_object() {
    for object in `git rev-list --objects --all | cut -d &#39; &#39; -f 1`; do
        echo &#39;SHA1: &#39;$object
        git cat-file -p $object
        echo &#39;^&#39;
    done
}</pre>
</div>
</div>
<div class="paragraph">
<p>ç¬¬ä¸€æ­¥ï¼Œåˆå§‹åŒ–ä¸€ä¸ªä»“åº“å¹¶æ·»åŠ æ–‡ä»¶(ä¸ºäº†æ¨¡æ‹ŸçœŸå®åœºæ™¯ï¼Œè¿™é‡Œç”¨äº†å¤šçº§ç›®å½•):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>echo &#34;first file&#34; &gt; first.txt
mkdir -p second/third
echo &#34;second file&#34; &gt; second/second.txt
echo &#34;third file&#34; &gt; second/third/third.txt
git add first.txt
git add second
git commit -m &#34;first commit&#34;
echo &#39;~~~~&#39;
tree
print_all_object</pre>
</div>
</div>
<div class="paragraph">
<p>æ­¤æ—¶å·¥ä½œç›®å½•å¦‚ä¸‹:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>.
â”œâ”€â”€ first.txt
â””â”€â”€ second
    â”œâ”€â”€ second.txt
    â””â”€â”€ third
        â””â”€â”€ third.txt

2 directories, 3 files</pre>
</div>
</div>
<div class="paragraph">
<p>Gitå¯¹è±¡çš„å†…å®¹å¦‚ä¸‹:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SHA1: b8a7759d225d7ca4952c57c9ba785a6692a075a9
tree 12f38251f4b5858269b7b95b8b655c88bb4185d8
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091820 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091820 +0800

first commit
^
SHA1: 12f38251f4b5858269b7b95b8b655c88bb4185d8
100644 blob 303ff981c488b812b6215f7db7920dedb3b59d9a    first.txt
040000 tree be554e60137e97e1e1e8e443552e0abd17db1450    second
^
SHA1: 303ff981c488b812b6215f7db7920dedb3b59d9a
first file
^
SHA1: be554e60137e97e1e1e8e443552e0abd17db1450
100644 blob 1c59427adc4b205a270d8f810310394962e79a8b    second.txt
040000 tree d2895a749b806d7647a9622c71a03e0e3eace8dc    third
^
SHA1: 1c59427adc4b205a270d8f810310394962e79a8b
second file
^
SHA1: d2895a749b806d7647a9622c71a03e0e3eace8dc
100644 blob 667bb3858a056cc96e79c0c3b1edfb60135c2359    third.txt
^
SHA1: 667bb3858a056cc96e79c0c3b1edfb60135c2359
third file
^</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>commit ç±»å‹çš„ Git å¯¹è±¡ï¼Œè®°å½•äº† commit æŒ‡å‘çš„ tree å¯¹è±¡ï¼Œä»¥åŠæäº¤è€…(author/committer)çš„ä¿¡æ¯</p>
</li>
<li>
<p>tree ç±»å‹çš„ Git å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«ä¸€ä¸ªåä¸º first.txt çš„æ–‡ä»¶å’Œä¸€ä¸ªåä¸º second çš„ç›®å½•</p>
</li>
<li>
<p>blob ç±»å‹çš„ Git å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„å†…å®¹ä¸º <code>first file</code></p>
</li>
<li>
<p>åŒ2</p>
</li>
<li>
<p>åŒ3</p>
</li>
<li>
<p>åŒ2</p>
</li>
<li>
<p>åŒ3</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>å¯ä»¥çœ‹å‡ºï¼Œ Git çš„ commit å¯¹è±¡å¯ä»¥é€šè¿‡ SHA1 æ‰¾åˆ° tree å¯¹è±¡ï¼Œtree å¯¹è±¡å¯ä»¥é€šè¿‡ SHA1 æ‰¾åˆ°å…¶ä»– tree å’Œ blob ï¼Œåœ¨Gitä¸­ï¼Œ <strong>SHA1å°±æ˜¯Gitå¯¹è±¡çš„æŒ‡é’ˆ</strong> ã€‚æ­¤å¤–ï¼ŒGit ä½¿ç”¨è¿™ç§æ–‡æœ¬åŒ–çš„è¡¨ç¤ºæ–¹å¼ä¹Ÿç¬¦åˆUnix ä¸€åˆ‡çš†æ–‡æœ¬çš„å“²å­¦ã€‚ä¸ºäº†ä¾¿äºç†è§£ï¼Œä¸Šé¢çš„ä¿¡æ¯å¯ä»¥æŒ‰ç…§ä¸Šæ–‡çš„æ¨¡å‹ç”»å‡ºå¯¹åº”çš„æœ‰å‘æ— ç¯å›¾(æš‚æ—¶çœç•¥äº†Gitå¼•ç”¨):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/vimerzhao/images/raw/master/2019-11/git-internal-1.png" alt="git internal 1"/>
</div>
</div>
<div class="paragraph">
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶ï¼Œå†æ¬¡æäº¤</p>
</div>
<div class="literalblock">
<div class="content">
<pre>echo &#34;first file modified&#34; &gt; first.txt
git add first.txt
git commit -m &#34;second commit&#34;
echo &#39;~~~~&#39;
print_all_object</pre>
</div>
</div>
<div class="paragraph">
<p>å†…å®¹å¦‚ä¸‹:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SHA1: 67f9d83a9ef370c057accf103e6502d3c8a56048
tree 7b1fc0ae095fcadbd565737c2a957bdbeb9c4ee3
parent b8a7759d225d7ca4952c57c9ba785a6692a075a9
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091920 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091920 +0800

second commit
^
SHA1: b8a7759d225d7ca4952c57c9ba785a6692a075a9
tree 12f38251f4b5858269b7b95b8b655c88bb4185d8
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091820 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091820 +0800

first commit
^
SHA1: 7b1fc0ae095fcadbd565737c2a957bdbeb9c4ee3
100644 blob 491a7bb2dd1a1e5ba9e00440ba9f7dd25fa17336    first.txt
040000 tree be554e60137e97e1e1e8e443552e0abd17db1450    second
^
SHA1: 491a7bb2dd1a1e5ba9e00440ba9f7dd25fa17336
first file modified
^
SHA1: be554e60137e97e1e1e8e443552e0abd17db1450
100644 blob 1c59427adc4b205a270d8f810310394962e79a8b    second.txt
040000 tree d2895a749b806d7647a9622c71a03e0e3eace8dc    third
^
SHA1: 1c59427adc4b205a270d8f810310394962e79a8b
second file
^
SHA1: d2895a749b806d7647a9622c71a03e0e3eace8dc
100644 blob 667bb3858a056cc96e79c0c3b1edfb60135c2359    third.txt
^
SHA1: 667bb3858a056cc96e79c0c3b1edfb60135c2359
third file
^
SHA1: 12f38251f4b5858269b7b95b8b655c88bb4185d8
100644 blob 303ff981c488b812b6215f7db7920dedb3b59d9a    first.txt
040000 tree be554e60137e97e1e1e8e443552e0abd17db1450    second
^
SHA1: 303ff981c488b812b6215f7db7920dedb3b59d9a
first file
^</pre>
</div>
</div>
<div class="paragraph">
<p>æ³¨æ„commitå¢åŠ äº†ä¸€ä¸ªparentå­—æ®µï¼Œæ­¤æ—¶å›¾å˜æˆäº†:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/vimerzhao/images/raw/master/2019-11/git-internal-2.png" alt="git internal 2"/>
</div>
</div>
<div class="paragraph">
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å†åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œå†æ¬¡æäº¤</p>
</div>
<div class="literalblock">
<div class="content">
<pre>rm second/second.txt
git add second
git commit -m &#34;third commit&#34;
git tag -a v3 -m &#34;tag third commit&#34;
echo &#39;~~~~&#39;
print_all_object</pre>
</div>
</div>
<div class="paragraph">
<p>å†…å®¹å¦‚ä¸‹:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SHA1: 78913509ce663ff1e58e47043b015283856779dc
tree 6ac7a28caaf73725fc3383b916447e839e3c2d50
parent 67f9d83a9ef370c057accf103e6502d3c8a56048
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091990 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091990 +0800

third commit
^
SHA1: 67f9d83a9ef370c057accf103e6502d3c8a56048
tree 7b1fc0ae095fcadbd565737c2a957bdbeb9c4ee3
parent b8a7759d225d7ca4952c57c9ba785a6692a075a9
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091920 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091920 +0800

second commit
^
SHA1: b8a7759d225d7ca4952c57c9ba785a6692a075a9
tree 12f38251f4b5858269b7b95b8b655c88bb4185d8
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091820 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091820 +0800

first commit
^
SHA1: 825133937ceb744ad49a71883f70237a4a1dfc1d
object 78913509ce663ff1e58e47043b015283856779dc
type commit
tag v3
tagger vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091990 +0800

tag third commit
^
SHA1: 6ac7a28caaf73725fc3383b916447e839e3c2d50
100644 blob 491a7bb2dd1a1e5ba9e00440ba9f7dd25fa17336    first.txt
040000 tree d4046dced1e51bbc931b845cfea1c529fec7256c    second
^
SHA1: 491a7bb2dd1a1e5ba9e00440ba9f7dd25fa17336
first file modified
^
SHA1: d4046dced1e51bbc931b845cfea1c529fec7256c
040000 tree d2895a749b806d7647a9622c71a03e0e3eace8dc    third
^
SHA1: d2895a749b806d7647a9622c71a03e0e3eace8dc
100644 blob 667bb3858a056cc96e79c0c3b1edfb60135c2359    third.txt
^
SHA1: 667bb3858a056cc96e79c0c3b1edfb60135c2359
third file
^
SHA1: 7b1fc0ae095fcadbd565737c2a957bdbeb9c4ee3
100644 blob 491a7bb2dd1a1e5ba9e00440ba9f7dd25fa17336    first.txt
040000 tree be554e60137e97e1e1e8e443552e0abd17db1450    second
^
SHA1: be554e60137e97e1e1e8e443552e0abd17db1450
100644 blob 1c59427adc4b205a270d8f810310394962e79a8b    second.txt
040000 tree d2895a749b806d7647a9622c71a03e0e3eace8dc    third
^
SHA1: 1c59427adc4b205a270d8f810310394962e79a8b
second file
^
SHA1: 12f38251f4b5858269b7b95b8b655c88bb4185d8
100644 blob 303ff981c488b812b6215f7db7920dedb3b59d9a    first.txt
040000 tree be554e60137e97e1e1e8e443552e0abd17db1450    second
^
SHA1: 303ff981c488b812b6215f7db7920dedb3b59d9a
first file
^</pre>
</div>
</div>
<div class="paragraph">
<p>æ³¨æ„å¤šäº†ä¸€ä¸ªtagç±»å‹çš„Gitå¯¹è±¡ï¼ŒæŒ‡å‘ç¬¬ä¸‰æ¬¡æäº¤ï¼Œæ­¤æ—¶å›¾å˜æˆäº†:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/vimerzhao/images/raw/master/2019-11/git-internal-3-fix.png" alt="git internal 3 fix"/>
</div>
</div>
<div class="paragraph">
<p>ä»¥ä¸Šï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†Gitåœ¨è¿›è¡Œå¸¸è§çš„å¢åˆ æ”¹çš„æ—¶å€™ï¼ŒèƒŒåå‘ç”Ÿçš„äº‹æƒ…ã€‚</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>Note</strong></p>
</div>
<div class="paragraph">
<p>è¯»è€…åœ¨åˆšæ‰æ˜¯å¦æ€è€ƒè¿‡ä¸€ä¸ªé—®é¢˜:ä¸ºä»€ä¹ˆæ¯ä¸€ä¸ªGitå¯¹è±¡çš„å‰ä¸¤ä½è¦ä½œä¸ºä¸€ä¸ªç›®å½•å‘¢ï¼Ÿ</p>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_å¼•ç”¨">Git å¼•ç”¨</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Git åˆ›å»ºåˆ†æ”¯çš„æˆæœ¬åŠå…¶ä½å»‰ã€‚</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Creating a branch is nothing more than just writing 40 characters to a file.</p>
</div>
</blockquote>
<div class="attribution">
â€” Linus Torvalds
</div>
</div>
<div class="sect2">
<h3 id="_åˆ†æ”¯">åˆ†æ”¯</h3>
<div class="paragraph">
<p>å¯¹äºä¸Šé¢çš„ä»“åº“ï¼Œæˆ‘ä»¬æ­¤æ—¶çœ‹ä¸€ä¸‹ HEAD æ–‡ä»¶å’Œ refs ç›®å½•ä¸‹çš„å†…å®¹ï¼Œç„¶ååˆ›å»ºä¸¤ä¸ªæ–°çš„åˆ†æ”¯å¹¶æäº¤ä¸€äº›å†…å®¹:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cat .git/HEAD
cat .git/refs/heads/master
git branch feature1
git checkout -b feature2 ## åˆ›å»ºä¸¤ä¸ªæ–°çš„åˆ†æ”¯
echo &#34;new feature2&#34; &gt; feature.txt
git add feature.txt &amp;&amp; git commit -m &#34;add feature&#34;
git checkout master
cat .git/refs/heads/master ## æŸ¥çœ‹æ¯ä¸ªåˆ†æ”¯æŒ‡å‘çš„æäº¤
cat .git/refs/heads/feature1
cat .git/refs/heads/feature2</pre>
</div>
</div>
<div class="paragraph">
<p>å¾—åˆ°è¾“å‡º</p>
</div>
<div class="literalblock">
<div class="content">
<pre>78913509ce663ff1e58e47043b015283856779dc
78913509ce663ff1e58e47043b015283856779dc
a5596a09a7e83f83bf713e81e7653fa652906090</pre>
</div>
</div>
<div class="paragraph">
<p>(ä¸ºäº†èŠ‚çœç¯‡å¹…ï¼Œåé¢ä¸ä¼šè´´å‡º print_all_object çš„å…¨éƒ¨æ‰§è¡Œç»“æœ) + ç”±æ­¤å¯ä»¥æ›´æ–°ä¸€ä¸‹æˆ‘ä»¬çš„æœ‰å‘æ— ç¯å›¾(ä¸ºäº†çªå‡ºé‡ç‚¹ï¼Œæœ¬ç« èŠ‚ä¸ç”»å‡º Git å¯¹è±¡):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/vimerzhao/images/raw/master/2019-11/git-internal-4.png" alt="git internal 4"/>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_åˆå¹¶">åˆå¹¶</h3>
<div class="paragraph">
<p>ç°åœ¨masteråˆ†æ”¯åšä¸€æ¬¡commitï¼Œæ‰§è¡Œä¸€æ¬¡merge</p>
</div>
<div class="literalblock">
<div class="content">
<pre>echo &#34;anothre feature&#34; &gt; feature.txt
git add feature.txt &amp;&amp; git commit -m &#34;add another feature&#34;
git merge feature2</pre>
</div>
</div>
<div class="paragraph">
<p>è§£å†²çªï¼Œç„¶åæäº¤</p>
</div>
<div class="literalblock">
<div class="content">
<pre>vim feature.txt
git add feature.txt &amp;&amp; git commit -m &#34;handle conflict&#34;
cat feature.txt
print_all_object</pre>
</div>
</div>
<div class="paragraph">
<p>éƒ¨åˆ†ç»“æœå¦‚ä¸‹:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>anothre feature
new feature2
SHA1: 9c6eb61ba181a070e06d8c5767ea3bdca5f40558
tree da90387f4018255a3a37ff2933a8810cf3eccc1f
parent 8a1105568902f643a60165f3aa8067e8f16b9ce0
parent a5596a09a7e83f83bf713e81e7653fa652906090
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092878 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092946 +0800

handle conflict
^
SHA1: 8a1105568902f643a60165f3aa8067e8f16b9ce0
tree c1ba2f6bb8f4412460347c204714a580155a1180
parent 78913509ce663ff1e58e47043b015283856779dc
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092846 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092846 +0800

add another feature
^
SHA1: a5596a09a7e83f83bf713e81e7653fa652906090
tree 715230bf7c2800c4e745151ce19859127ebbb4b0
parent 78913509ce663ff1e58e47043b015283856779dc
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092660 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092660 +0800

add feature
^
SHA1: 78913509ce663ff1e58e47043b015283856779dc
tree 6ac7a28caaf73725fc3383b916447e839e3c2d50
parent 67f9d83a9ef370c057accf103e6502d3c8a56048
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091990 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091990 +0800

third commit
^</pre>
</div>
</div>
<div class="paragraph">
<p><strong>æ³¨æ„ï¼Œæœ€åä¸€æ¬¡æäº¤æœ‰ä¸¤ä¸ª parent commit</strong> ã€‚æ­¤æ—¶ï¼Œæœ‰å‘æ— ç¯å›¾å˜ä¸º:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/vimerzhao/images/raw/master/2019-11/git-internal-5.png" alt="git internal 5"/>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_å˜åŸº">å˜åŸº</h3>
<div class="paragraph">
<p>ç°åœ¨åœ¨åˆ†æ”¯feature1åšä¸€æ¬¡æäº¤ï¼Œç„¶åä½¿ç”¨rebaseçš„æ–¹å¼åŒæ­¥ä¸»å¹²:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git checkout -b feature1
echo &#34;add feature1&#34; &gt; feature1.txt
git add feature1.txt &amp;&amp; git commit -m &#34;add feature1&#34;
git rebase master
cat .git/refs/heads/master
cat .git/refs/heads/feature1
cat .git/refs/heads/feature2
git checkout master
tree
print_all_object</pre>
</div>
</div>
<div class="paragraph">
<p>éƒ¨åˆ†è¾“å‡ºä¸º:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>9c6eb61ba181a070e06d8c5767ea3bdca5f40558
ce72867669c6f5ece8f2aef71476a458e502485d
a5596a09a7e83f83bf713e81e7653fa652906090
.
â”œâ”€â”€ feature.txt
â”œâ”€â”€ feature1.txt
â”œâ”€â”€ first.txt
â””â”€â”€ second
    â””â”€â”€ third
        â””â”€â”€ third.txt

2 directories, 4 files
SHA1: ce72867669c6f5ece8f2aef71476a458e502485d
tree 9a004023f848b224cc79c7aa069738d24dfc8c27
parent 9c6eb61ba181a070e06d8c5767ea3bdca5f40558
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575093789 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575093789 +0800

add feature1
^
SHA1: 9c6eb61ba181a070e06d8c5767ea3bdca5f40558
tree da90387f4018255a3a37ff2933a8810cf3eccc1f
parent 8a1105568902f643a60165f3aa8067e8f16b9ce0
parent a5596a09a7e83f83bf713e81e7653fa652906090
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092878 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092946 +0800

handle conflict
^
SHA1: 8a1105568902f643a60165f3aa8067e8f16b9ce0
tree c1ba2f6bb8f4412460347c204714a580155a1180
parent 78913509ce663ff1e58e47043b015283856779dc
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092846 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092846 +0800

add another feature
^
SHA1: a5596a09a7e83f83bf713e81e7653fa652906090
tree 715230bf7c2800c4e745151ce19859127ebbb4b0
parent 78913509ce663ff1e58e47043b015283856779dc
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092660 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575092660 +0800

add feature
^
SHA1: 78913509ce663ff1e58e47043b015283856779dc
tree 6ac7a28caaf73725fc3383b916447e839e3c2d50
parent 67f9d83a9ef370c057accf103e6502d3c8a56048
author vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091990 +0800
committer vimerzhao &lt;vimerzhao@tencent.com&gt; 1575091990 +0800

third commit
^</pre>
</div>
</div>
<div class="paragraph">
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæ‰§è¡Œäº†rebaseæ“ä½œï¼Œcommit <code>ce7286</code> çš„ parent commit å¹¶ä¸æ˜¯å‘ç”Ÿæäº¤æ—¶çš„ commit(<code>789135</code>)äº†ï¼Œè€Œæ˜¯masteråˆ†æ”¯çš„æœ€æ–°commit(<code>9c6eb6</code>)æ­¤æ—¶æœ‰å‘æ— ç¯å›¾å˜ä¸º:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/vimerzhao/images/raw/master/2019-11/git-internal-6.png" alt="git internal 6"/>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_æ›´å¤šé—®é¢˜">æ›´å¤šé—®é¢˜</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„æ ¸å¿ƒå†…å®¹ï¼Œä½†æ˜¯å…³äºGitçš„ç»†èŠ‚è¿œè¿œä¸æ­¢äºæ­¤ï¼Œæ¯”å¦‚ä»¥ä¸‹é—®é¢˜:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ä¸ºä»€ä¹ˆå–SHA1çš„å‰ä¸¤ä½ä½œä¸ºç›®å½•ï¼Œå38ä½ä½œä¸ºæ–‡ä»¶åï¼Ÿ</p>
</li>
<li>
<p>Git ä¸ºä»€ä¹ˆä½¿ç”¨blobçš„å½¢å¼å­˜å‚¨å†…å®¹ï¼Ÿ</p>
</li>
<li>
<p>plumbing å’Œ porcelain å‘½åçš„å«ä¹‰æ˜¯ä»€ä¹ˆ</p>
</li>
<li>
<p>Git å¦‚ä½•æé«˜å­˜å‚¨æ•ˆç‡(æ¯”å¦‚å¤§æ–‡ä»¶Aç¨ä½œä¿®æ”¹ï¼Œå…¶å®å°±ä¼šæœ‰å¦å¤–ä¸€ä¸ªåŠå…¶ç›¸ä¼¼çš„å¤‡ä»½ï¼Œååˆ†æµªè´¹ç©ºé—´)?</p>
</li>
<li>
<p>Gitå¦‚ä½•å¤„ç†åˆ†å¸ƒå¼åä½œå¼€å‘?</p>
</li>
<li>
<p>Git åœ¨å®é™…é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ</p>
</li>
<li>
<p>ETC</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>æ¬¢è¿ star æœ¬åšå®¢ <a href="https://github.com/vimerzhao/vimerzhao.github.ioï¼Œå…³æ³¨åç»­æ›´æ–°ã€‚" class="bare">https://github.com/vimerzhao/vimerzhao.github.ioï¼Œå…³æ³¨åç»­æ›´æ–°ã€‚</a> + ä¹Ÿå¯ä»¥æ‰«ç å…³æ³¨ç¬”è€…å…¬ä¼—å·:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/vimerzhao/images/raw/master/common/ad-2.jpg" alt="ad 2"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_å‚è€ƒ">å‚è€ƒ</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://marc.info/?l=linux-kernel&amp;m=111314792424707">&#39;Re: more git updates..&#39; - MARC</a></p>
</li>
<li>
<p><a href="https://www.aosabook.org/en/git.html">The Architecture of Open Source Applications (Volume 2): Git</a></p>
</li>
<li>
<p><a href="https://git-scm.com/book/en/v2/Git-Internals-Plumbing-and-Porcelain">Git Pro(Chaper 10: Git Internals)</a></p>
</li>
<li>
<p><a href="https://github.com/pluralsight/git-internals-pdf">pluralsight/git-internals-pdf: PDF on Git Internals</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=4XpnKHJAok8">Tech Talk: Linus Torvalds on git - YouTube</a></p>
</li>
<li>
<p><a href="https://www.linuxfoundation.org/blog/2015/04/10-years-of-git-an-interview-with-git-creator-linus-torvalds/">10 Years of Git: An Interview with Git Creator Linus Torvalds - The Linux Foundation</a></p>
</li>
</ol>
</div>
</div>
</div>

		</div>
    <span id="wc" style="color:grey; font-size: 0.9em">æ€»é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>æ¬¡ã€‚</span>
    <p></p>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/%E6%8A%80%E6%9C%AF%E7%B2%BE%E9%80%89/" rel="tag">æŠ€æœ¯ç²¾é€‰</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">å·¥å…·</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="èµµè£•(vimerzhao) avatar" src="/img/wechat_public.jpeg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">å…³äº èµµè£•(vimerzhao)</span>
	</div>
	<div class="authorbox__description">
		ğŸ”¥ çˆ±æŠ˜è…¾çš„ç¨‹åºå‘˜ã€ã€ŠFlutterå†…æ ¸æºç å‰–æã€‹ä½œè€…ã€‚ <br>  ğŸ‘ˆ  å¾®ä¿¡å…¬ä¼—å·ï¼š<b>èµµè£•</b>ï¼ˆè®°å½•æ‰€å­¦ã€æ‰€æ€ã€æ‰€è¡Œï¼‰ï¼Œæ¬¢è¿æ‰«ç å…³æ³¨ã€‚
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/articles/model-of-thinking/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;ä¸Šä¸€ç¯‡</span>
			<p class="pager__title">ä¿¡æ¯ã€æ€è€ƒã€çŸ¥è¯†</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/articles/working-effectively-with-legacy-code/" rel="next">
			<span class="pager__subtitle">ä¸‹ä¸€ç¯‡&thinsp;Â»</span>
			<p class="pager__title">ä¿®æ”¹é—ç•™ä»£ç çš„è‰ºæœ¯</p>
		</a>
	</div>
</nav>

<script src="https://utteranc.es/client.js"
  repo="vimerzhao/vimerzhao.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<label>
			<input class="widget-search__field" type="search" placeholder="æœç´¢â€¦" value="" name="q" aria-label="æœç´¢â€¦">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="/">
	</form>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">è¿‘æœŸæ–‡ç« </h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/articles/setup-wpewebkit-2.46-debug-environment/">WPEWebKit2.46è°ƒè¯•ç¯å¢ƒ</a></li>
			<li class="widget__item"><a class="widget__link" href="/articles/configure-a-linux-development-environment/">é…ç½®ä¸€ä¸ªLinuxå¼€å‘ç¯å¢ƒ</a></li>
			<li class="widget__item"><a class="widget__link" href="/articles/setup-webkit-debug-environment/">WebKitè°ƒè¯•ç¯å¢ƒé…ç½®</a></li>
			<li class="widget__item"><a class="widget__link" href="/articles/review-webkit-build-process/">å°è®°WebKitçš„æ„å»º</a></li>
			<li class="widget__item"><a class="widget__link" href="/articles/skia-debug-inline-pitfall/">Skiaä¸‹SK_DEBUGå†…è”çš„å‘</a></li>
		</ul>
	</div>
</div>
<div class="widget-categories widget">
	<h4 class="widget__title">åˆ†ç±»</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item">
				<a class="widget__link" href="/categories/android/">Android</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">8</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/flutter/">Flutter</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">1</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/%E4%B8%93%E6%A0%8F%E9%80%9F%E8%AE%B0/">ä¸“æ |é€Ÿè®°</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">2</span>
				</li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">æ ‡ç­¾</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/android%E5%BC%80%E5%8F%91/" title="Androidå¼€å‘">Androidå¼€å‘ (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/bugfix/" title="BugFix">BugFix (14)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/bug%E8%AE%B0%E5%BD%95/" title="BUGè®°å½•">BUGè®°å½• (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/c&#43;&#43;/" title="C&#43;&#43;">C&#43;&#43; (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/cmake/" title="CMAKE">CMAKE (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E5%B7%A5%E5%85%B7/" title="å·¥å…·">å·¥å…· (28)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5/" title="å·¥ç¨‹å®è·µ">å·¥ç¨‹å®è·µ (6)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E5%BC%80%E5%8F%91%E6%80%9D%E8%80%83/" title="å¼€å‘æ€è€ƒ">å¼€å‘æ€è€ƒ (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E6%80%BB%E7%BB%93/" title="æ€»ç»“">æ€»ç»“ (7)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E6%8A%80%E6%9C%AF%E7%B2%BE%E9%80%89/" title="æŠ€æœ¯ç²¾é€‰">æŠ€æœ¯ç²¾é€‰ (10)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/" title="æºç å‰–æ">æºç å‰–æ (12)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E7%AC%94%E8%AE%B0/" title="ç¬”è®°">ç¬”è®° (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" title="ç¼–ç¨‹è¯­è¨€">ç¼–ç¨‹è¯­è¨€ (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" title="è¯»ä¹¦ç¬”è®°">è¯»ä¹¦ç¬”è®° (12)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E8%BD%AF%E6%8A%80%E8%83%BD/" title="è½¯æŠ€èƒ½">è½¯æŠ€èƒ½ (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/%E9%9A%8F%E7%AC%94/" title="éšç¬”">éšç¬” (20)</a>
	</div>
</div>
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">ç¤¾äº¤</h4>
	<div class="widget-social__content widget__content">
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="GitHub" rel="noopener noreferrer" href="https://github.com/vimerzhao" target="_blank">
				<svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
				<span>GitHub</span>
			</a>
		</div>

		
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2025 èµµè£•çš„åšå®¢.
			<span class="footer__copyright-credits">åŸºäº <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> å¼•æ“å’Œ <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> ä¸»é¢˜</span>
		</div>
    <span>
      <span id="busuanzi_container_site_pv">
        æœ¬ç«™è®¿é—®é‡ï¼š<span id="busuanzi_value_site_pv"></span>æ¬¡ï¼Œ
      </span>
      <span id="busuanzi_container_site_uv">
        æ‚¨æ˜¯æœ¬ç«™ç¬¬ <span id="busuanzi_value_site_uv"></span> ä½è®¿é—®è€…
      </span>
    </span>
  </div>
  
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5f402244ea199b9952086dd1313a204d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
</footer>

	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>